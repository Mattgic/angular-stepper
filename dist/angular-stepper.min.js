/*! angular-stepper - v0.1.1 - 2015-10-19
* Copyright (c) Julien Bouquillon [revolunet] 2015; Licensed  */
!function(){"use strict";angular.module("revolunet.stepper",[]).directive("rnStepper",function(){return{restrict:"AE",require:"ngModel",scope:{min:"=",max:"=",ngModel:"="},template:'<button type="button" class="btn-minus" ng-disabled="!canBeDecremented()" ng-click="decrement()">-</button><input type="text" ng-model="ngModel"><button type="button" class="btn-plus" ng-disabled="!canBeIncremented()" ng-click="increment()">+</button>',link:function(a,b,c,d){function e(a){return isNaN(a)?(d.$setValidity("outOfBounds",!1),null):+a}function f(){var a=d.$viewValue,b=!(isNaN(a)||h(a,!0)||i(a,!0));return b}function g(a){d.$viewValue&&(d.$setViewValue(+d.$viewValue+a),d.$render())}function h(b,c){var d=c?0:1;return angular.isDefined(a.min)&&b-d<parseInt(a.min,10)}function i(b,c){var d=c?0:1;return angular.isDefined(a.max)&&b+d>parseInt(a.max,10)}d.$formatters.push(e),d.$parsers.push(e),d.$validators.outOfBounds=f,a.$watch("min+max",function(){d.$$parseAndValidate()}),a.canBeIncremented=function(){var a=d.$viewValue;return a&&!isNaN(a)&&!h(a,!0)&&!i(a)},a.canBeDecremented=function(){var a=d.$viewValue;return a&&!isNaN(a)&&!h(a)&&!i(a,!0)},a.increment=function(){g(1)},a.decrement=function(){g(-1)}}}})}();