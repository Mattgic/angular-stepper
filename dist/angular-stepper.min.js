/*! angular-stepper - v0.1.1 - 2015-12-10
* Copyright (c) Julien Bouquillon [revolunet] 2015; Licensed  */
!function(){"use strict";angular.module("revolunet.stepper",[]).directive("rnStepper",function(){return{restrict:"AE",require:"ngModel",scope:{min:"=",max:"=",ngModel:"=",stepperName:"="},template:'<button type="button" class="btn-minus" ng-disabled="!canBeDecremented()" ng-click="decrement()">-</button><input id="{{stepperName}}" name="{{stepperName}}" type="text" ng-model="ngModel"><button type="button" class="btn-plus" ng-disabled="!canBeIncremented()" ng-click="increment()">+</button>',link:function(a,b,c,d){function e(a){return isNaN(a)?(d.$setValidity("outOfBounds",!1),null):+a}function f(){var a=d.$viewValue,b="number"==typeof a&&!h(a,!0)&&!i(a,!0);return b}function g(a){"number"==typeof d.$viewValue&&(d.$setViewValue(+d.$viewValue+a),d.$render())}function h(b,c){var d=c?0:1;return angular.isDefined(a.min)&&b-d<parseInt(a.min,10)}function i(b,c){var d=c?0:1;return angular.isDefined(a.max)&&b+d>parseInt(a.max,10)}d.$formatters.push(e),d.$parsers.push(e),d.$validators.outOfBounds=f,a.$watch("min+max",function(){d.$viewValue&&d.$$parseAndValidate()}),a.canBeIncremented=function(){var a=d.$viewValue;return"number"==typeof a&&!h(a,!0)&&!i(a)},a.canBeDecremented=function(){var a=d.$viewValue;return"number"==typeof a&&!h(a)&&!i(a,!0)},a.increment=function(){g(1)},a.decrement=function(){g(-1)}}}})}();